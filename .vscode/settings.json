{
  // clangd 配置
  "clangd.path": "",
  "clangd.arguments": [
    // 启用后台索引，提升性能
    "--background-index",
    // 启用代码补全
    "--completion-style=detailed",
    // 启用代码诊断
    "--clang-tidy",
    // 启用代码格式化建议
    "--format-style=file",
    // 启用函数签名提示
    "--function-arg-placeholders=false",
    // 启用头文件补全
    "--header-insertion=iwyu",
    // 启用代码操作
    "--enable-config",
    // 日志级别（可选：verbose, info, warning, error）
    "--log=info",
    // 限制内存使用（MB）
    "--limit-results=100",
    // 启用跳转到定义
    "--header-insertion=never",
    // 指定编译数据库目录（MSVC + Ninja）
    "--compile-commands-dir=build-clang",
    // 让 clangd 能正确探测 MSVC 标准库/系统 include 路径
    "--query-driver=C:\\\\Program Files\\\\Microsoft Visual Studio\\\\2022\\\\*\\\\VC\\\\Tools\\\\MSVC\\\\*\\\\bin\\\\Hostx64\\\\x64\\\\cl.exe"
  ],
  // clangd 检查文件模式
  "clangd.checkUpdates": true,
  // clangd 自动重启
  "clangd.restartAfterCrash": true,
  
  // 禁用 VSCode 内置的 C/C++ 扩展（避免冲突）
  "C_Cpp.intelliSenseEngine": "disabled",
  "C_Cpp.autocomplete": "disabled",
  "C_Cpp.errorSquiggles": "disabled",
  
  // 文件关联
  "files.associations": {
    "*.h": "cpp",
    "*.hpp": "cpp",
    "*.cpp": "cpp",
    "*.cxx": "cpp",
    "*.cc": "cpp",
    "*.ixx": "cpp",
    "*.cppm": "cpp"
  },
  
  // JSON Schema 关联 - 为 Module 目录下的 JSON 文件提供智能提示
  "json.schemas": [
    {
      "fileMatch": [
        "Module/**/*.json"
      ],
      "url": "${workspaceFolder}/.vscode/module.schema.json"
    }
  ],
  
  // 编辑器配置
  "editor.formatOnSave": false, // clangd 有自己的格式化
  "editor.suggest.snippetsPreventQuickSuggestions": false,
  "editor.inlineSuggest.enabled": true,
  
  // 文件排除（提升性能）
  "files.exclude": {
    "**/build/**": false, // 保留 build 目录以便 clangd 读取 compile_commands.json
    "**/.git": true,
    "**/node_modules": true
  },
  
  // 搜索排除
  "search.exclude": {
    "**/build": true,
    "**/exe": true,
    "**/.git": true,
    "**/node_modules": true
  },
  
  // 文件监控排除（提升性能）
  "files.watcherExclude": {
    "**/build/**": true,
    "**/exe/**": true,
    "**/.git/**": true,
    "**/node_modules/**": true
  }
}
