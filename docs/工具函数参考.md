# ShineEngine 代码库文件参考文档

本文档记录 ShineEngine 代码库中的主要文件及其功能

## 核心入口文件

- **`src/ShineEngine.cpp`** - 引擎主入口文件，包含窗口创建、渲染循环、编辑器集成等核心逻辑
- **`src/launcher.cpp`** - 启动器程序，用于启动 MainEngine.exe

## 工具函数模块 (util)

### 编码工具 (encoding)
- **`src/util/encoding/byte_convert.h`** - 字节转换工具（大端序/小端序读取）
- **`src/util/encoding/bit_reader.h`** - 位读取器工具（用于 Deflate/Zlib 等位级别操作）
- **`src/util/encoding/huffman_tree.h`** - Huffman 树结构（用于 PNG/WebP 等格式的 Huffman 解码）
- **`src/util/encoding/huffman_decoder.h`** - Huffman 解码器（解码符号）
- **`src/util/encoding/url_util.h`** - URI/URL 工具（解析、编码、数据 URI 处理等）

### 基础工具
- **`src/util/file_util.h`** - 文件操作工具（文件映射、读写、路径操作、目录管理等）
- **`src/util/string_util.h`** - 字符串工具（UTF-8/UTF-32 转换、路径处理、URL 编码、正则表达式等）
- **`src/util/memory_util.h`** - 内存管理工具（内存池、分配器、RAII 内存指针等）
- **`src/util/base64/base64.h`** - Base64 编码/解码工具
- **`src/util/timer/timer_util.h`** - 时间工具（获取当前时间戳，支持毫秒/纳秒精度）
- **`src/util/timer/function_timer.h`** - 函数性能计时器（自动计时函数执行时间，支持 source_location）
- **`src/util/fps_controller.h`** - FPS 控制器（控制帧率，支持编辑器/游戏双模式）
- **`src/util/guid.h`** - GUID 工具（128位唯一标识符，支持生成、解析、序列化）
- **`src/util/image_util.h`** - 图像工具（从内存/文件加载 OpenGL 纹理）
- **`src/util/singleton.h`** - 单例模式模板类
- **`src/util/shine_define.h`** - 引擎基础定义（平台检测、类型定义、特性检测等）

## 数学库模块 (math)

- **`src/math/vector.h`** - 三维向量类（TVector，支持各种向量运算）
- **`src/math/vector2.h`** - 二维向量类
- **`src/math/matrix.h`** - 4x4 矩阵类（列主序，OpenGL 约定）
- **`src/math/quat.h`** - 四元数类（用于旋转）
- **`src/math/rotator.h`** - 旋转器类
- **`src/math/mathUtil.h`** - 数学工具函数
- **`src/math/mathDef.h`** - 数学类型定义和概念
- **`src/math/mathFwd.h`** - 数学类型前向声明

## 图像处理模块 (image)

- **`src/image/Texture.h`** - 纹理类（支持多种格式：RGBA、BC 压缩格式等）
- **`src/image/png.h`** - PNG 图像加载器
- **`src/image/jpeg.h`** - JPEG 图像加载器
- **`src/image/webp.h`** - WebP 图像加载器

## 加载器模块 (loader)

- **`src/loader/loader.h`** - 资源加载器接口和基础类（IAssetLoader）
- **`src/loader/objLoader.h`** - OBJ 模型加载器
- **`src/loader/gltfLoader.h`** - GLTF/GLB 模型加载器

## 渲染模块 (render)

- **`src/render/render_backend.h`** - 渲染后端接口（IRenderBackend，抽象不同图形 API）
- **`src/render/render_backend_export.h`** - 渲染后端导出定义
- **`src/render/renderer_service.h`** - 渲染器服务
- **`src/render/material.h`** - 材质定义
- **`src/render/shader_manager.h`** - 着色器管理器
- **`src/render/opengl/opengl3_backend.h`** - OpenGL 3 渲染后端实现
- **`src/render/command/command_list.h`** - 渲染命令列表接口
- **`src/render/command/opengl_command_list.h`** - OpenGL 命令列表实现
- **`src/render/command/dx12_command_list.h`** - DirectX 12 命令列表接口
- **`src/render/command/vulkan_command_list.h`** - Vulkan 命令列表接口

## 游戏逻辑模块 (gameplay)

- **`src/gameplay/object.h`** - 游戏对象基类（SObject，支持组件系统）
- **`src/gameplay/camera.h`** - 相机类
- **`src/gameplay/mesh/StaticMesh.h`** - 静态网格类
- **`src/gameplay/component/component.h`** - 组件基类接口
- **`src/gameplay/component/StaticMeshComponent.h`** - 静态网格组件

## 管理器模块 (manager)

- **`src/manager/InputManager.h`** - 输入管理器（键盘、鼠标输入处理）
- **`src/manager/CameraManager.h`** - 相机管理器
- **`src/manager/FileWatchManager.h`** - 文件监视管理器
- **`src/manager/light_manager.h`** - 光照管理器
- **`src/manager/monitor/monitorManager.h`** - 显示器管理器
- **`src/manager/PluginsManager.cpp`** - 插件管理器

## 编辑器模块 (editor)

- **`src/editor/mainEditor.h`** - 主编辑器类
- **`src/editor/views/EditorView.h`** - 编辑器视图基类
- **`src/editor/browers/AssetsBrower.h`** - 资源浏览器
- **`src/editor/browers/AssetsItem.h`** - 资源项
- **`src/editor/feature/imageViewer.h`** - 图像查看器

## 数据模块 (data)

- **`src/data/file_type.h`** - 文件类型定义
- **`src/data/structure/safe_queue.h`** - 线程安全队列（支持多线程推送/弹出）

## UI 组件模块 (widget)

- **`src/widget/shineButton.h`** - 按钮组件
- **`src/widget/widgetState.h`** - 组件状态定义



## 第三方库 (third)

- **`src/third/fmt/`** - fmt 格式化库
- **`src/third/fast_float/`** - 快速浮点数解析库
- **`src/third/imgui/`** - ImGui 即时模式 GUI 库
- **`src/third/minizip/`** - ZIP 压缩库
- **`src/third/sol/`** - Sol2 Lua 绑定库
- **`src/third/utf8cpp/`** - UTF-8 处理库
- **`src/third/yyjson/`** - 快速 JSON 解析库
- **`src/third/GL/`** - OpenGL 扩展库（GLEW）
- **`src/third/luajit/`** - LuaJIT 头文件
